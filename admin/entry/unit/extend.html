<!-- BEGIN_SetRendered id="js-mapboxunit" -->
<!-- Maboxライブラリ読み込み -->
<script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />

<!--Mapbox Geocoderの読み込み 検索フォームに入力した場所の位置を取得 -->
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.min.js"></script>
<link rel="stylesheet"
  href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.css" type="text/css" />

<!-- 自作ライブラリ読み込み -->
<script src="/js/mapboxunit.js"></script>
<!-- END_SetRendered -->

<!-- BEGIN custom_mapbox -->

<!-- BEGIN_MODULE Blog_Field -->
<div id="accesstoken_styleurl" data-accesstoken="{mapbox_accesstoken}" data-styleurl="{mapbox_styleurl}"></div>
<!-- END_MODULE Blog_Field -->

<!-- jsからunitidを取得するためのdivタグ -->
<div class="unitid" data-unitid="{id}"></div>

<!-- 地図が挿入される -->
<div id='mapwrapper{id}' style="width: 820px; height: 320px; max-width: 100% ;">
  <div id='map{id}' style='max-width: 100%;' data-lat="{mapbox-lat}" data-lng="{mapbox-lng}"
    data-zoom="{mapbox-zoom}" data-pitch="{mapbox-pitch}" data-bearing="{mapbox-bearing}"  data-setstyleurl="{mapbox_setstyleurl}" data-accesstoken="{mapbox_accesstoken}"
    data-comment='{mapbox-comment}' data-mapsize="{mapbox-mapsize}" data-maptype="admin">
  </div>
  <div id="geocoder{id}" class="geocoder"></div>
</div>
<div id="geocoderspace" style="width: 100%; height: 50px;" ></div>

<table class="acms-admin-table-admin-edit">
  <tr>
    <th>緯度</th>
    <td>
      <input id="lat{id}" type="text" name="mapbox-lat{id}" value="{mapbox-lat}" class="acms-admin-form-width-full" />
      <input type="hidden" name="unit{id}[]" value="mapbox-lat{id}" />
    </td>
  </tr>
  <tr>
  <tr>
    <th>経度</th>
    <td>
      <input id="lng{id}" type="text" name="mapbox-lng{id}" value="{mapbox-lng}" class="acms-admin-form-width-full" />
      <input type="hidden" name="unit{id}[]" value="mapbox-lng{id}" />
    </td>
  </tr>
    <th>ズーム</th>
    <td>
      <input id="zoom{id}" type="text" name="mapbox-zoom{id}" value="{mapbox-zoom}"
        class="acms-admin-form-width-full" />
      <input type="hidden" name="unit{id}[]" value="mapbox-zoom{id}" />
    </td>
  </tr>
  <tr>
    <tr>
      <th>角度</th>
      <td>
        <input id="pitch{id}" type="text" name="mapbox-pitch{id}" value="{mapbox-pitch}" class="acms-admin-form-width-full" />
        <input type="hidden" name="unit{id}[]" value="mapbox-pitch{id}" />
      </td>
    </tr>
    <tr>
      <th>回転</th>
      <td>
        <input id="bearing{id}" type="text" name="mapbox-bearing{id}" value="{mapbox-bearing}" class="acms-admin-form-width-full" />
        <input type="hidden" name="unit{id}[]" value="mapbox-bearing{id}" />
      </td>
    </tr>
    <th>地図の大きさ</th>
    <td>
      <select id='size{id}' name="mapbox-mapsize{id}" class="acms-admin-form-width-full">
        <!-- <option value=""></option> -->
        <option id='small' value="small" {mapbox-mapsize:selected#small}>中：幅1/2(400x300)</option>
        <option id='big' value="big" {mapbox-mapsize:selected#big}>大：幅1/1(820x320)</option>
      </select>
      <input type="hidden" name="unit{id}[]" value="mapbox-mapsize{id}" />
    </td>
  </tr>
  <tr>
    <th>吹き出し(HTML)可</th>
    <td>
      <textarea id='comment{id}' name="mapbox-comment{id}"
        class="acms-admin-form-width-full">{mapbox-comment}</textarea>
      <input type="hidden" name="unit{id}[]" value="mapbox-comment{id}" />
    </td>
  </tr>
  <tr>
    <!-- <th>MapboxユニットID</th> -->
    <td>
      <input type="hidden" name="mapbox-unitid{id}" value="{id}" class="acms-admin-form-width-full" />
      <input type="hidden" name="unit{id}[]" value="mapbox-unitid{id}" />
    </td>
  </tr>
  <tr>
    <th>スタイルURL</th>
    <td>
      <input id='setstyleurl{id}' type="text" name="mapbox_setstyleurl{id}" value="{mapbox_setstyleurl}" class="acms-admin-form-width-full" />
      <input type="hidden" name="unit{id}[]" value="mapbox_setstyleurl{id}" />
    </td>
  </tr>
</table>

<!-- END custom_mapbox -->